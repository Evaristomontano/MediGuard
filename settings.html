<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="title">MediGuard - Safety First</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <style>
        .loader { border-top-color: #3498db; animation: spinner 1.5s linear infinite; }
        @keyframes spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-slate-50 font-sans min-h-screen">

    <header class="bg-white border-b border-slate-200 py-4 mb-8">
        <div class="max-w-4xl mx-auto px-4 flex items-center justify-between">
           
            <h1 class="text-xl font-bold text-blue-700 uppercase tracking-wider">MediGuard</h1>
            <span class="text-xs font-semibold px-2 py-1 bg-green-100 text-green-700 rounded">v1.1 Live</span>
             <a href="/" class="bg-white/10 hover:bg-white/20 px-4 py-2 rounded-lg transition text-sm font-medium">
                â† Back
            </a>
        </div>
         
    </header>
   

    <main class="max-w-3xl mx-auto px-6 pb-20">
        <section class="bg-white rounded-2xl shadow-sm border border-slate-200 p-8 mb-8">
            <h2 class="text-slate-800 font-bold text-lg mb-4">Gemini API Configuration</h2>
            <p class="text-slate-500 text-sm mb-6">Your key is stored locally in your browser and never sent to our servers directly, only to the AI provider.</p>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">API Key</label>
                    <input type="password" id="apiKeyInput" placeholder="Enter your AIzaSy... key" 
                        class="w-full p-4 rounded-xl border border-slate-200 bg-slate-50 focus:ring-2 focus:ring-blue-500 focus:bg-white outline-none transition-all font-mono text-sm">
                </div>
                <button onclick="saveKey()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-blue-200 transition-all transform active:scale-[0.98]">
                    Save Configuration
                </button>
                <p id="saveMsg" class="text-center text-sm text-green-600 font-medium hidden">âœ“ Key saved successfully!</p>
            </div>
        </section>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
                <span class="text-2xl mb-3 block">ğŸ‡ºğŸ‡¸</span>
                <h3 class="font-bold text-slate-800 mb-3">Setup Guide</h3>
                <ul class="text-sm text-slate-600 space-y-3">
                    <li>1. Visit <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-blue-600 font-medium underline">Google AI Studio</a>.</li>
                    <li>2. Sign in and click <b>"Create API Key"</b>.</li>
                    <li>3. Copy the key and paste it above.</li>
                </ul>
            </div>

            <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
                <span class="text-2xl mb-3 block">es</span>
                <h3 class="font-bold text-slate-800 mb-3">GuÃ­a de Inicio</h3>
                <ul class="text-sm text-slate-600 space-y-3">
                    <li>1. Entra en <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-blue-600 font-medium underline">Google AI Studio</a>.</li>
                    <li>2. Inicia sesiÃ³n y pulsa <b>"Create API Key"</b>.</li>
                    <li>3. Copia la clave y pÃ©gala arriba.</li>
                </ul>
            </div>

            <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
                <span class="text-2xl mb-3 block">ğŸ‡©ğŸ‡ª</span>
                <h3 class="font-bold text-slate-800 mb-3">Anleitung</h3>
                <ul class="text-sm text-slate-600 space-y-3">
                    <li>1. Gehen Sie zu <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-blue-600 font-medium underline">Google AI Studio</a>.</li>
                    <li>2. "Create API Key" anklicken.</li>
                    <li>3. Key kopieren und oben einfÃ¼gen.</li>
                </ul>
            </div>
        </div>
    </main>

    <script>
        // Load existing key
        document.getElementById('apiKeyInput').value = localStorage.getItem('user_gemini_key') || '';

        function saveKey() {
            const key = document.getElementById('apiKeyInput').value.trim();
            if (key) {
                localStorage.setItem('user_gemini_key', key);
                const msg = document.getElementById('saveMsg');
                msg.classList.remove('hidden');
                setTimeout(() => {
                    msg.classList.add('hidden');
                    window.location.href = '/'; // Auto-redirect after save
                }, 1500);
            } else {
                alert("Please enter a valid key.");
            }
        }
    </script>
</body>
</html>